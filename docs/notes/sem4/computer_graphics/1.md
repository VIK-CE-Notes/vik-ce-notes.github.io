# 1. fejezet: Geometriák és algebrák

A geometriák különböző axiómákra épülnek. Például az Euklidészi síkgeometriában az egyik legfontosabb, hogy egy egyenesre egy külső pontból legfeljebb egy olyan egyenes húzható, ami nem metszi (ez a párhuzamossági posztulátum)

Ezeknek az axiómáknak a megváltoztatása különböző eredményekhez vezethet. Például a háromszög belső szögeinek összege
    - Hiperbolikus geometriában: $< 180°$
    - Euklidészi geometriában: $180°$
    - Gömbi geometriában: $> 180°$

## 1.1. Görbület

### 1.1.1. Görbék görbülete

Egy adott pontra az alábbi két definíció egyikét használhatjuk:

!!! info 1.1. Definíció (Adott pontbeli görbület)
    A $\kappa$ _görbület_ az egysebességű centripetális gyorsulás ($a_{cp} = \frac{v^2}{R}$, egysebességű: a sebesség nagysága állandó).

!!! info 1.2. Definíció (Adott pontbeli görbület)
    A $\kappa$ _görbület_ a simuló kör sugarának reciproka.

![A fenti két definíciót bemutató ábra.](./img/1_gorbulet.png)

Azaz $\displaystyle \kappa = \frac{1}{r} = \frac{v^2}{r}$.

### 1.1.2. Gauss görbület

Egy felület (mondjuk henger) görbületét szeretnénk meghatározni egy adott pontban. Feltehető, hogy ebben a pontban a felületnek van egy normálvektora, ami merőleges a felület síkjára. Ekkor az alakzatot a felvághatjuk olyan síkokkal amik az adott pontot metszik és a normálvektorral párhuzamosak. Ezek a síkok bármerre állhatnak és a felületet ahogy metszik, úgy egy görbét határoznak meg.

Az így kapott görbék közül van kettő, ahol az egyiknél minimális a görbület, a másiknál maximális. Ezek a metszési irányok egymásra merőlegesek. Ezek a _principális_ vagy _főgörbületi_ irányok.

Az itt található görbületek szorzata az úgynevezett **Gauss-görbület**.

![Gauss görbület](./img/1_gauss_gorbulet.png)

??? example Részletek
    [_Ezen_](https://youtu.be/0ZV4TjgI424?t=621) a linken elérhető a hivatalos grafika youtube videó ezzel kapcsolatban. A diasorokon voltak még további alakzatok, ezeken érdemes ezt végig gondolni, a legfontosabb, hogy a normállal mindig párhuzamosak ezek a metszések.

### 1.1.3. Gömbi geometria

Itt a görbület állandóan pozitív, az egyenesek is görbék. További fontos változások:
    - Két pont nem mindig határoz meg egy egyenest egyértelműen
    - Két egyenes mindig két pontban metszi egymást
    - Nincsenek olyan egyenesek, amik ne metszenék egymást (még a párhuzamosok is metszik egymást)

!!! info 1.3. Definíció (A gömb egyenlete)
    Egy $k$ kör egyenlete a következő: $\displaystyle k\colon x^2 + y^2 + z^2 = R^2 = \frac{1}{K}$

!!! info 1.4. Definíció (Főkör)
    Két pont és a gömb közepe meghatároz egy síkot. A kört, ami a sík és gömb metszésével jön létre _főkörnek_ nevezzük.

Fontos kiemelni, hogy a főkört nem mindig lehet egyértelműen meghatározni, pl. Északi sark, Déli sark, Origó pontokkal végtelen sok sík van.

!!! tip 1.1. Állítás
    Gömbi geometriában a legrövidebb út két pont között mindig a főkörön van.

!!! info 1.5. Definíció (Elliptikus geometria)
    Az olyan geometriát, ahol az átellenes pontok egynek számítanak _elliptikus geometriának_ nevezünk.

#### 1.1.3.1. Gömbök vetítése

![Gömbök vetítése](./img/1_vetites.png)

Három különböző vetítési módot tárgyalunk:

##### Középpontos vetítés

Ekkor csak a _felső gömböt_ vetítjük, továbbá ez a vetítés _egyenes tartó_, de **nem** kör, szög és távolságtartó.

##### Sztereografikus vetítés

Ekkor a _déli pólus kivételével mindent_ vetítünk, továbbá ez a vetítés _kör-_ és _szögtartó_, de **nem** egyenes és távolságtartó.

##### Mercator térkép

Hengerre vetít a gömb középpontjából, de emiatt megnyúlik. Ez a vetítés _szögtartó_, de **nem** távolságtartó.

#### 1.1.3.2. Számolások gömbi geometriánál

- A görbület: $\displaystyle \kappa = \frac{1}{R^2}$ <!--ez elég triviális-->
- A távolság: $\displaystyle R \theta =  \frac{\theta}{\sqrt{\kappa}}$

!!! note ""
    A távolság egy körív, ahol két pont között $\theta$ szög van - radiánban.

- Háromszögek:
  - $a^2 + b^2 > c^2$
  - $T = (\alpha + \beta + \gamma - \pi) / \kappa$

- A kör kerülete
    ![A kör kerülete](./img/1_kerulet.png)

### 1.1.4. Hiperbolikus geometria

Itt a görbület állandóan negatív. További fontos változás, hogy egy egyenesre egy külső ponból több nem metsző egyenes húzható.

!!! info Hiperboloid egyenlete:
    A $h$ hiperboloid egyenlete a következő: $\displaystyle h\colon x^2 + y^2 - z^2 = -R^2 = \frac{1}{\kappa}$

    !!! info "" 
        Ez levezethető komplex számokkal is: $h\colon (iR)^2 = -R^2$

#### Hiperbolikus terek vetítése egy diszkre

![Hiperbolikus terek vetítése egy diszkre](./img/1_hiberbolikus.png)

??? info Emlékeztető (3. háziból 2 kör merőleges)
    ![házi help](./img/1_hazi_help.png)

## 1.2. Minkowski tér

A háromdimenziós teret kiterjesztjük egy negyedik dimenzióval, ami az _idő_. Itt nem pontok, hanem _események_ vannak jelen, hiszen ugyanaz a hely szerepelhet kétszer, de különböző időpontokban, más-más események közben.
Ebben a rendszerben a távolságot úgy kell érteni, hogy az $x_1$ helyről $t$ idő alatt egy hatás elér-e egy $x_2$ helyre.

## 1.3. Geometriák

### 1.3.1. Projektív geometria

!!! tip ""
    A GPU mindegyik geometriát támogatja, de projektív geometriában gondolkodik.

Euklideszi geometriában nem beszélhetünk végtelenről, viszont a projektív geometriában létezik. További fontos változások:
    - Itt két egyenes pontosan egy pontban metszi egymást (vagy egy pontban metszenek, vagy a végtelenben. Ha azon gondolkodnál, hogy de balra és jobbra is van végtelen, az ne aggasszon, mert az a pont jobbra és balra ugyanaz a végtelen).
    - Ez a rendszer nem metrikus, mert nem lehet pl. távolságról beszélni, hiszen ha a végtelen is része, akkor ami végtelen távol van, azt nem lehet számításba venni.
    - Nincsenek olyan koordináta rendszerek, amik távolságokat használnak - a fentebb említett ok miatt - vagyis Descartes és Polár koordinátarendszerek nem használhatóak.
![ideális pont](./img/1_idealis_pont.png)

!!! tip ""
    Itt a zöld és a piros pontok az **ideális pontok** ahol az egyenesek metszenék egymást.
    Mivel a geometriánkban végtelen sok egyenes lehet, ezért a piros és zöld pontok között végtelen sok ideális pont lehet még.

Ha átgondoljuk, hogy van végtelen sok ideális pont, amik jobbra és balra nézve is önmagukat képviselik, akkor láthatjuk, hogy ez egy elliptikus geometria  ([lásd fentebb](#1131-elliptikus-geometria)) csak a szög és távolság fogalma nélkül.

### 1.3.2. Síkgeometria

Kettő dimenzióról beszélünk ($x$,$y$ koordinátákkal), amihez felveszünk egy harmadik tulajdonságot ($w$-t). Így képesek vagyunk Euklideszi és Projektív geometriát is mejeleníteni.

!!! note ""
    Projektív esetben azt mondjuk, hogy csak az _egyenes_, ami átmegy az origón.

![projektiv](./img/1_projektiv.png)

Vagyis ekkor van egy bizonyos végtelen pontunk, ahol minden egyenes találkozik. Ekkor minden pont végtelen távoli, ahol $w$ = 0, hiszen bármely egyenes, ami rajtuk átmegy, az az origón is. Vagyis az egyenesük párhuzamos lesz a (kék) síkkal, amit látunk.

!!! info 1.6. Definíció (Ambiens tér, [ambient space](https://en.wikipedia.org/wiki/Ambient_space_(mathematics)))
    Egy olyan tér, ami valamilyen objektumot körbevesz.

Ezek a befoglaló terek nekünk az ábrázolást segítik. Ezért az ambiens vektorokat képesnek kell lennünk összeadni és skálázni. Ebből következik, hogy $w=0$ a vektoroknál és $w=1$ a pontoknál (egyéb $w$-k se nem pontok, se nem vektorok).

#### Alapműveletek

!!! tip Skaláris szorzás
    - $a_1 \cdot a_2 = |a_1| |a_2| \cos(\alpha)$
    - Euklideszi geometriában: $a_1 \cdot a_2 = x_1 x_2 + y_1 y_2 + z_1 z_2$
    - Nem asszociatív művelet.

<!-- Ez egy eléggé részletes példa egy olyan fogalomról, amit valószínűleg a legtöbb hallgató már ismer. Nem muszáj meghagyni ennyire részletesre, de úgy gondoltam, hogy akinek szüksége van magyarázatra, és direkt rákattint a kinyíló emlékeztetőre, annak nagy eséllyel szüksége is van egy ennyire részletes magyarázatra. -->
??? info Emlékeztető (asszociativitás fogalma)
    Egy (kétváltozós) műveletre (legyen most $*$) akkor mondjuk, hogy asszociatív, ha nem számít az elvégzésének sorrendje, azaz $$(u * v) * w = u * (v * w) = u * v * w.$$ Ha egy művelet _nem_ asszociatív, akkor az azt jelenti, hogy $(u * v) * w \neq u * (v * w)$. Egy példa egy nem asszociatív műveletre az osztás: $$\frac{1}{6} = \frac{\frac{1}{2}}{3} = \underbrace{(1/2)/3 \neq 1/(2/3)}_{
        \footnotesize{
            (u * v) * w \neq u * (v * w)
        }
    } = \frac{1}{\frac{2}{3}} = \frac{3}{2}.$$

!!! tip Vektoriális szorzás (kereszt szorzás)
    - $|a_1 \times a_2 | = |a_1| |a_2| \sin(\theta)$
    - $c_x = a_y b_z - a_z b_y$
      $c_y = a_z b_x - a_x b_z$
      $c_z = a_x b_y - a_y b_x$
    - Nem asszociatív.

#### Vektorok tulajdonságai

- Két pont különbsége egy vektor.
- Az ambiens térnek elemei $[x,y,0]$
- Hossza: $|v| = \sqrt{v \cdot v}$
- Merőlegesség: $u \perp v$ ha $u \cdot v = 0$
  - Minden vektorra végtelen sok merőleges vektor létezik $\lambda [y, -x, 0]$ alakban.
- Párhuzamosság: $u \parallel v$ ha $u = \lambda v$
  - Minden vektorra végtelen sok párhuzamos vktor létezik $\lambda [x, y, 0]$ alakban.

#### Egyenes egyenletei

!!! info 1.7. Definíció (Egyenes parametrikus egyenlete)
    Egy $r$ egyenes parametrikus egyenlete a következő: $r(t) = p + vt$

Azaz $p$ pontból $t$ ideje indultunk el $v$ vektorrala - ha végig gondolod ez valóban pontok gyűjteménye, hiszen $w=1$ mindig

!!! info 1.8. Definíció (Egyenes implicit egyenlete)
    Egy $r$ egyenes implicit egyenlete a következő: $n\cdot (r - p) = 0$

Ahol $r$ egyenest határozzuk meg $p$ pontja és $\vec{n}$ normálvektora segítségével:

$$r(x,y) \Rightarrow [n_x, n_y, 0] \cdot [x - p_x, y - p_y, 0] = 0$$

vagyis $n_x x + n_y y + d = 0$.

Ha $r$ helyére behelyettesítünk, akkor könnyen eldönthetjük, hogy egy pont rajta van-e (egyébként pont azért _implicit_ egyenlet, mert az r egyenest nem fejezzük ki explicit).

### 1.3.3. Térgeometria

A célunk az, hogy minden legyen ugyan olyan mint a síkgeometriánál, csak most már egyel magasabb dimenzióban.

!!! tip Térelemek
    Vektor: $[x,y,z,0]$
    Pont: $[x,y,z,1]$

A korábban megbeszélt műveletek nem változnak, az egyenes egyenletek továbbra is megmaradnak.

#### Sík egyenletei

!!! info 1.9. Definíció (Sík explicit egyenlete)
    Egy sík explicit egyenlete a következő: $r(u,v) = p + au + bv$

Ahol $a, b$ nem párhuzamos vektorok ($a \not\perp b$).

!!! info 1.10. Definíció (Sík implicit egyenlete)
    Egy sík implicit egyenlete a következő: $n \cdot (r-p) = 0$ 

Ahol $\vec{n}$ normálvektor merőleges $a, b$ vektorokra, vagyis: $n_x x + n_y y + n_z z + d = 0$

## 1.4. Homogén koordináták

!!! info 1.11. Definíció (Homogén koordináták)
    Olyan koordinátarendszer, ahol egy extra dimenzióban megadunk egy értéket ami jelöli, hogy ideális pontról beszélünk-e.

Ezt valamennyire láttuk, a fontos különbség, hogy a $w$ a távolság jelölést is segíti nekünk:

<!-- Nem tudom, hogy direkt használunk-e ilyen négyzetes sorvektorokat, ezért ebben a fejezetben direkt oszloposan írtam fel őket, hogy meglássuk, hogy milyen, és döntsük el, hogy melyiket preferálnánk. -->
$$\begin{bmatrix}
2x\\
2y\\
1
\end{bmatrix} = \begin{bmatrix}
x\\
y\\
1/2
\end{bmatrix}$$

mert ha osztjuk a $w$ koordinátájával, akkor $\displaystyle
\begin{bmatrix}
x\\
y\\
1/2
\end{bmatrix} / \frac{1}{2} = \begin{bmatrix}
2x\\
2y\\
1
\end{bmatrix}$

!!! info 1.12. Definíció (Az egyenes implicit egyenlete homogén koordinátákkal)
    Egy egyenes implicit egyenlete homogén koordináták használatával a következő: $
    \begin{bmatrix}
    X(t)\\
    Y(t)\\
    w(t)
    \end{bmatrix} = \begin{bmatrix}
    X_1\\
    Y_1\\
    w_1
    \end{bmatrix}(1-t) +
    \begin{bmatrix}
    X_2\\
    Y_2\\
    w_2
    \end{bmatrix} \cdot t
    $

Ez két különböző pontból segít meghatározni az egyenest.

!!! question De mégis miért jobb ez?
    Azért, mert ez magától kezeli a végtelen pontokat a Descartes koordinátákkal szemben:
    $$
    \begin{alignat}{4}
        \notag &n_x X / w &+ &n_y Y / w &+ &d &= 0 \qquad w &\neq 0 \\
        \notag &n_x X &+ &n_y Y &+ &dw &= 0 \qquad w &\neq 0
    \end{alignat}
    $$

!!! question Hogyan csináljunk Euklidésziből homogént?
    Fogjuk a pontokat és mindenhol kibővítjük a pontok koordinátáit $w = 1$-el.

---

# Kvíz

!!! question 1\. Milyen messze van az $(-5, 4)$ pont a $3x + 4y + 5 = 0$ implicit egyenletű egyenestől

??? tip Megoldás
    **Középiskolában tanultakkal megoldható:** 
    *(ha van gyorsabb megoldás javítsátok)*

    1. Egyenesre normálvektort állítasz
    $(3, 4) \Rightarrow (4, -3)$
    2. Normálvektorral új egyenes, ami átmegy a ponton
    $4 * (-5) + (-3) * 4 + d = 0$
    $d = 32 \Rightarrow 4x -3y + 32 = 0$
    3. Az egyenesek metszéspontjának megtalálása
    $4x -3y + 32 = 0 \text{ és } 3x + 4y + 5 = 0$ 
    *(Mondjuk hozzáadom $\frac{3}{4}$-szer az másodikat az elsőhöz, de sok jó út van)*
    $\frac{25}{4} x + \frac{133}{4} = 0 \Rightarrow x = \frac{-143}{25}$
    $\Rightarrow y = \frac{76}{25}$
    4. Metszés pont és eredeti pont távolságának kiszámítása
    $d = \sqrt{(((-5) - (\frac{-143}{25}))^2 + (4 - \frac{76}{25})^2)} = 1.2$

??? tip Másik megoldás
    **Alternatív megoldás:** 

    - képletet használunk $d = n \cdot (r-p)$, ahol $r$ az egyenes és $n$ egység hosszú
        1. a normálvektort egységhosszúvá tesszük
        $n = (3, 4) \Rightarrow n = \frac{(3, 4)}{\sqrt{3^2 + 4^2}} = (\frac{3}{5}, \frac{4}{5})$
        *(figyeljünk, implicit egyenletnél a koordináta sorrendre)*
        2. az $r-p$ kivonást elvégzzük: *(ez egy vektor r és p között)*
        A számításához használhatjuk az $r$ bármely pontját *(én az x=0 pontot választottam)*
        $R = (0, \frac{-5}{4})$ 
        Ekkor $r - p = (0, \frac{-5}{4}) - (-5, 4) = (5, -\frac{21}{4})$
        3. elvégezzük a skaláris szorzást: 
        $n \cdot (r-p) = (\frac{3}{5}, \frac{4}{5}) \cdot (5, -\frac{21}{4}) = \frac{3}{5} * 5 + \frac{4}{5} *  -\frac{21}{4} = 3 - \frac{21}{5} = -1.2$
        4. De miért negatív?
        Ez egy előjeles távolság, szóval függ attól, hogy a p pont az egyenes melyik oldalán van
        Vagyis, ha abszolútértékkel használjuk, akkor helyes megoldást kapunk
        $|-1.2| = 1.2$
        :cake:
[(a képlet kb így jön ki)](https://brilliant.org/wiki/dot-product-distance-between-point-and-a-line/)

---
!!! question 2\. Tekintsünk 2 várost $A$-t és $B$-t az északi szélesség (lattitude) $45$ fokán. Az $A$ város keleti hosszúsága $165˚$, a $B$ város keleti hosszúsága $50˚$. Mekkora az $A$ és $B$ város távolsága km-ben, ha a föld sugarát $6000$ km-nek vesszük?

??? tip Megoldás
    ![megoldás](./img/1_kviz_notes.jpg)

    !!! info ""
        Ilyenkor nem használhatjuk a Távolság: $R \theta$ képletet direktben, mert $x$ és $y$ tengelyen is van bezárt szög és ezért vagy a sugár méretét kéne arányosítani, vagy a szöget kéne újraszámolni.
    Keressük tehát azt a $\theta$ szöget, melyet a A és B *(pontosabban a beléjük húzott sugarak)* bezárnak a rajtuk átmenő főkörön.
    Ellenőrzésre és általános esetre [script](./code/dist.py).

<!-- Ez nem jó. Távolságot a főkörön mérjük, ott a legrövidebb.

    Szerencsére volt erre egy másik képlet:
    1. 45°-nál mekkora egy kör kerülete: 
    $R' =  R * sin(\theta) = 6000 * \sin(45°) \approx 4242.64$
    1. Ezen a körön már tudjuk, hogy a közrezárt szög 145-105 = 40 fok:
    Ami radiánban: $\theta' = (40/180) * \pi = 0.6981$
    $dist = R' * \theta' = 2961.92$
    -->

---
!!! question 3\. A gömbi geometriánk Gauss görbülete $0.8$. Mekkora a $0.2$ sugarú kör kerülete ebben a geometriában?

??? tip Megoldás
    1. Gauss görbületből a gömb sugara: $\displaystyle K = 1/R^2 \Rightarrow R = 1 / \sqrt{K} = 1 / \sqrt{0.8} \approx 1.12$
    2. A kör sugara most a gömbön található egyenesben mérve van megadva (a korábbi ábrán ez volt $r$): $\displaystyle r = R * \theta \Rightarrow \theta = 0.2 / 1.12 \approx 0.18$
    3. A kör kerülete pedig: $\displaystyle 2 \pi R \sin(\theta) = 2 \pi * 1.12 * \sin(0.18) = 1.2499$ 
    Ha pontos értékekkel számolunk, ha kerekítve, akkor kb. $1.26$.

---
!!! question 4\. Egy pont koordinátái a $t$ idő alábbi függvényei: $\displaystyle x(t) = t*t, y(t) = \frac{1}{t}$ mekkora a mozgás sebességének a négyzete az első másodpercben?

??? tip Megoldás
    1. A sebesség a mozgás idő szerinti első deriváltja: $\displaystyle x'(t) = 2t \qquad y'(t) = -1 / t^2$
    2. Ezt szeretnénk tudni az 1 időpontban: $\displaystyle x'(1) = 2 \qquad y'(1) = -1 / 1$
    3. Ebből a sebesség: $\displaystyle v = \sqrt{2^2 + (-1)^2} = \sqrt{5}$
    4. Vagyis a sebesség négyzete: $\displaystyle (\sqrt{5})^{2} = 5$

---
!!! question 5\. Az alábbi műveletek közül melyek asszociatívak?
    Emlékeztető: Akkor asszociatív, ha $(x * y) * z = x * (y * z)$.
    - Komplex számok szorzata
    - Duális számok szorzata
    - Mátrixok szorzata
    - Vektorok elemenkénti szorzata

??? tip Megoldás
    A vekoriális és a skaláris szorzás nem asszociatívak, a többi igen.

---
!!! question 10\. Az alábbi műveletek közül melyek kommutatívak?
    Emlékeztető: Akkor kommutatív, ha $a * b = b * a$.
    - Komplex számok szorzata
    - Duális számok szorzata
    - Vektorok skaláris szorzata
    - Vektorok elemenkénti szorzata

<!-- fact check required as még vettem a tárgyat, de korábbi matekos ismereteim alapján az összes kommutatív. -->
??? tip Megoldás
    Az összes kommutatív.

---
!!! question 6\. Mi igaz Euklideszi geometriában?
    - sinh(3x + 4y + 5) = 0 egy egyenes *(valóban az)*
    - 3x + 4y + 5 = 0 egyenesre merőleges a 4x -3y + 5 = 0
    - 3x + 4y + 5 = 0 egyenes megegyezik a -3x -4y - 5 = 0-tel
    - 3x + 4y + 5 = 0 egyenes párhuzamos a 9x 3y + 5 = 0-tel *(ráadásul meg is egyeznek)*

---
!!! question 7\. Milyen műveleti eredmények értelmezhetők Euklideszi geometriában?
    - Két pont kombinációja *(ha jól gondolom, ez egy egyenes)*
    - Két vektor kombinációja
    - Két vektor összege
    - Vektor szorzása számmal
    - Pont és vektor összege

*(pont szorzása vektorral és két pont összege pedig nem létező műveletek)*

---
!!! question 8-9\. Mi igaz a geometriákra

|   | Gömbi | Hiperbolikus |
| - | ----- | ------------ |
| A sík görbülete | Pozitív | Negatív |
| Egyenes a 2 pont közti legrövidebb út | igaz | igaz |
| Háromszög szögeinek összege | > 180° | < 180° |
| A pitagorasz tétel | nem igaz | nem igaz |
| Egyéb | Két különböző egyenes 2 pontban metszi egymást | 1 egyenesre 1-nél több nem metsző egyenes van |

[Következő](2.md)
